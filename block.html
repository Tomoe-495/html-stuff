<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>blocks</title>
	<style>
		.block {
			position: fixed;
			background: #454545;
			animation: appear 400ms ease-out;
			border: 1px solid rgba(255, 255, 255, 0.1);
			transform-origin: center;
			transition: all 250ms linear;
		}
		.block.active{
			transform: scale(0.1) rotate(45deg);
		}

		.block:hover {
			background: #353535;
			transform: scale(0.8);
		}

		@keyframes appear {
			from {
				transform: scale(0.1) rotateZ(45deg);
			}

			to {
				transform: scale(1) rotateZ(0);
			}
		}
	</style>
</head>

<body>

	<script>

		const screen = { width: window.innerWidth, height: window.innerHeight }
		const size = 30;
		let x = 0, y = 0;

		const interval = setInterval(() => {

			const block = document.createElement("div");
			block.classList.add("block");
			block.style.width = `${size}px`;
			block.style.height = `${size}px`;
			block.style.left = `${x}px`;
			block.style.top = `${y}px`;
			document.body.appendChild(block);

			x += size;

			if (x > screen.width) {
				x = 0;
				y += size;
			}
			if (y > screen.height) {
				clearInterval(interval);
			}

		}, 50)

setTimeout(()=>{
	let i = 0;
	setInterval(()=>{
		
		const blocks = document.querySelectorAll(".block");
		blocks[i].classList.toggle("active");

		i = i >= blocks.length ? 0 : i + 1;		

	}, 50)
	
}, 50*15)

	</script>
</body>

</html>